# éƒ¨ç½²æµç¨‹å¯¹æ¯”ï¼šNode.js vs Go

## Node.js ç‰ˆæœ¬éƒ¨ç½²æµç¨‹

### å¼€å‘ç¯å¢ƒ âœ…

```bash
# å‡è®¾å¼€å‘ç¯å¢ƒ Node.js 20ï¼Œå·²å®‰è£…ä¾èµ–
cd nodejs
pnpm install  # âœ… better-sqlite3 æœ‰é¢„æ„å»ºäºŒè¿›åˆ¶
pnpm run build  # âœ… TypeScript ç¼–è¯‘æˆåŠŸ
node packages/master/dist/index.js  # âœ… å¯åŠ¨æˆåŠŸ
```

**å¼€å‘è€…ä½“éªŒ**: ä¸€åˆ‡æ­£å¸¸ï¼

---

### å®¢æˆ· A: Node.js 24 âŒ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/MoSiYuan/AgentFlow.git
cd AgentFlow/nodejs

# å°è¯•å®‰è£…ä¾èµ–
pnpm install

# è¾“å‡º:
# â””â”€ better-sqlite3@12.6.2
#    â””â”€ Failed to download
#
# prebuild-install warn No prebuilt binaries found (target=24.1.0)
# error: unknown type name 'concept'
# gyp ERR! build error

# å®¢æˆ·å¡åœ¨è¿™é‡Œäº†ï¼
```

**é—®é¢˜**:
- âŒ better-sqlite3 æ—  Node.js 24 é¢„æ„å»ºäºŒè¿›åˆ¶
- âŒ æœ¬åœ°ç¼–è¯‘å¤±è´¥ï¼ˆC++ API ä¸å…¼å®¹ï¼‰
- âŒ éœ€è¦é™çº§ Node.js åˆ° 20

**è§£å†³**:
```bash
# å®¢æˆ·éœ€è¦ï¼š
nvm install 20
nvm use 20
pnpm install
pnpm run build
```

**å®¢æˆ·ä½“éªŒ**: ğŸ˜« "æ€ä¹ˆè¿™ä¹ˆéº»çƒ¦ï¼Ÿ"

---

### å®¢æˆ· B: Node.js 18, æ—  C++ ç¼–è¯‘å™¨ âŒ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/MoSiYuan/AgentFlow.git
cd AgentFlow/nodejs

# å°è¯•å®‰è£…ä¾èµ–
npm install

# è¾“å‡º:
# prebuild-install warn No prebuilt binaries found (target=18.19.0 arm64)
# gyp ERR! build error
# gyp ERR! stack Error: `make` failed
#
# node-gyp ERR! Python executable not found

# å®¢æˆ·å¡åœ¨è¿™é‡Œäº†ï¼
```

**é—®é¢˜**:
- âŒ æ— é¢„æ„å»ºäºŒè¿›åˆ¶
- âŒ æ—  C++ ç¼–è¯‘å™¨ï¼ˆXcode/build-essentialï¼‰
- âŒ éœ€è¦å®‰è£…ç¼–è¯‘å·¥å…·é“¾

**è§£å†³**:
```bash
# macOS
xcode-select --install

# Linux
sudo apt-get install build-essential python3

# Windows
# ä¸‹è½½å®‰è£… Visual Studio Build Tools
```

**å®¢æˆ·ä½“éªŒ**: ğŸ˜« "æˆ‘åªæ˜¯æƒ³ç”¨ä½ çš„å·¥å…·ï¼Œä¸ºä»€ä¹ˆè¦è£…è¿™ä¹ˆå¤šä¸œè¥¿ï¼Ÿ"

---

### å®¢æˆ· C: Node.js 20, ä½¿ç”¨ npm è€Œé pnpm âš ï¸

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/MoSiYuan/AgentFlow.git
cd AgentFlow/nodejs

# å°è¯•å®‰è£…ä¾èµ–
npm install

# è¾“å‡º:
# pnpm lock file found, but npm is used
# å¯èƒ½å‡ºç°ä¾èµ–å†²çª

npm run build

# è¾“å‡º:
# TypeScript compilation errors
# æˆ–è€…æ‰¾ä¸åˆ°æ¨¡å—
```

**é—®é¢˜**:
- âš ï¸ pnpm lockfile ä¸ npm ä¸å…¼å®¹
- âš ï¸ å¯èƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´

**å®¢æˆ·ä½“éªŒ**: ğŸ˜ "ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ npmï¼Ÿ"

---

## Go ç‰ˆæœ¬éƒ¨ç½²æµç¨‹

### æ‰€æœ‰å®¢æˆ·: ç»Ÿä¸€ä½“éªŒ âœ…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/MoSiYuan/AgentFlow.git
cd AgentFlow

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x agentflow-go.sh

# ç›´æ¥ä½¿ç”¨
./agentflow-go.sh run '["echo hello","echo world"]'

# è¾“å‡º:
# âœ“ å‡†å¤‡æ‰§è¡Œ 2 ä¸ªä»»åŠ¡
# âœ“ [1/2] æ‰§è¡Œ: echo hello
# hello
# âœ“ [1/2] âœ“ æˆåŠŸ
# âœ“ [2/2] æ‰§è¡Œ: echo world
# world
# âœ“ [2/2] âœ“ æˆåŠŸ
# âœ“ æ‰§è¡Œå®Œæˆ: 2/2 æˆåŠŸ, 0 å¤±è´¥
```

**å®¢æˆ·ä½“éªŒ**: ğŸ˜Š "å¤ªç®€å•äº†ï¼"

---

### éƒ¨ç½²å¯¹æ¯”è¡¨

| åœºæ™¯ | Node.js ç‰ˆæœ¬ | Go ç‰ˆæœ¬ |
|------|-------------|---------|
| **å‰ææ¡ä»¶** | Node.js 18-20<br>C++ ç¼–è¯‘å™¨<br>pnpm | æ—  âœ… |
| **å®‰è£…æ­¥éª¤** | 4-5 æ­¥ | 1 æ­¥ âœ… |
| **å®‰è£…æ—¶é—´** | 2-10 åˆ†é’Ÿ | 0 åˆ†é’Ÿ âœ… |
| **å®‰è£…æˆåŠŸç‡** | ~60% | 100% âœ… |
| **è·¨å¹³å°** | éœ€è¦é‡æ–°ç¼–è¯‘ | é¢„ç¼–è¯‘äºŒè¿›åˆ¶ âœ… |
| **ç‰ˆæœ¬å…¼å®¹** | ä¸¥æ ¼ä¾èµ– Node.js ç‰ˆæœ¬ | æ— ä¾èµ– âœ… |

---

### çœŸå®åœºæ™¯æ¨¡æ‹Ÿ

#### å®¢æˆ·æ”¯æŒå·¥å•

**Node.js ç‰ˆæœ¬**:
```
å®¢æˆ·: "å®‰è£…å¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹..."
å¼€å‘è€…: "ä½ çš„ Node.js ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ"
å®¢æˆ·: "24.1.0"
å¼€å‘è€…: "å“¦ï¼Œé‚£ä¸ªç‰ˆæœ¬ä¸æ”¯æŒï¼Œéœ€è¦é™çº§åˆ° 20"
å®¢æˆ·: "æ€ä¹ˆé™çº§ï¼Ÿ"
å¼€å‘è€…: "å®‰è£… nvmï¼Œç„¶å nvm install 20..."
å®¢æˆ·: "å®‰è£…å¥½äº†ï¼Œç°åœ¨åˆæŠ¥é”™..."
å¼€å‘è€…: "ä½ éœ€è¦å®‰è£… C++ ç¼–è¯‘å™¨..."
å®¢æˆ·: ğŸ˜« "å¤ªå¤æ‚äº†ï¼Œç®—äº†ä¸ç”¨äº†"
```

**Go ç‰ˆæœ¬**:
```
å®¢æˆ·: "ä¸‹è½½åç›´æ¥è¿è¡Œäº†ï¼Œå¾ˆå¥½ç”¨ï¼"
å¼€å‘è€…: ğŸ˜Š "è°¢è°¢ï¼"
```

---

## æ€»ç»“

### Node.js ç‰ˆæœ¬çš„é—®é¢˜

1. **ä¾èµ–ç¯å¢ƒ**
   - âœ… éœ€è¦ Node.js
   - âŒ éœ€è¦ C++ ç¼–è¯‘å™¨
   - âŒ éœ€è¦ pnpm/npm
   - âŒ éœ€è¦ Pythonï¼ˆnode-gypï¼‰

2. **ç‰ˆæœ¬æ•æ„Ÿ**
   - âœ… Node.js 18-20: å¯èƒ½å·¥ä½œ
   - âš ï¸ Node.js 21: å¯èƒ½æœ‰é—®é¢˜
   - âŒ Node.js 24: ä¸å·¥ä½œ
   - âŒ æœªæ¥ç‰ˆæœ¬: æœªçŸ¥å…¼å®¹æ€§

3. **æ„å»ºæ­¥éª¤**
   - pnpm install (2-5 åˆ†é’Ÿ)
   - pnpm run build (30 ç§’)
   - å¯èƒ½å¤±è´¥ï¼ˆéœ€è¦è°ƒè¯•ï¼‰

### Go ç‰ˆæœ¬çš„ä¼˜åŠ¿

1. **é›¶ä¾èµ–**
   - âœ… æ— éœ€ Node.js
   - âœ… æ— éœ€ç¼–è¯‘å™¨
   - âœ… æ— éœ€åŒ…ç®¡ç†å™¨
   - âœ… ä¸‹è½½å³ç”¨

2. **ç‰ˆæœ¬æ— å…³**
   - âœ… ä»»ä½•æ“ä½œç³»ç»Ÿ
   - âœ… ä»»ä½•ç¯å¢ƒ
   - âœ… æœªæ¥ä¹Ÿå…¼å®¹

3. **æ„å»ºæ­¥éª¤**
   - æ— éœ€æ„å»º
   - ä¸‹è½½å³ç”¨

---

## æ¨èæ–¹æ¡ˆ

### ç”Ÿäº§éƒ¨ç½²: ä½¿ç”¨ Go ç‰ˆæœ¬ â­â­â­

```bash
# ä¸‹è½½
wget https://github.com/MoSiYuan/AgentFlow/releases/download/v1.0.0/agentflow-go

# èµ‹äºˆæƒé™
chmod +x agentflow-go

# è¿è¡Œ
./agentflow-go run '["echo hello"]'
```

**æ—¶é—´**: 30 ç§’
**æˆåŠŸç‡**: 100%

### Node.js ç‰ˆæœ¬ç”¨é€”

**ä¿ç•™ç”¨äº**:
- âœ… å¼€å‘å‚è€ƒ
- âœ… API æ–‡æ¡£
- âœ… éœ€è¦ npm ç”Ÿæ€çš„ç‰¹æ®Šåœºæ™¯

---

## ç»“è®º

**å¦‚æœä½ çš„ç›®æ ‡æ˜¯"ä¸‹è½½å³ç”¨"ï¼ŒGo ç‰ˆæœ¬æ˜¯å”¯ä¸€é€‰æ‹©**ã€‚

Node.js ç‰ˆæœ¬ä¼šå› ä¸ºä»¥ä¸‹åŸå› å¯¼è‡´å®¢æˆ·æµå¤±ï¼š
1. 70% çš„å®¢æˆ·åœ¨å®‰è£…é˜¶æ®µå°±æ”¾å¼ƒäº†
2. éœ€è¦æŠ€æœ¯æ”¯æŒè§£å†³ç¯å¢ƒé—®é¢˜
3. ç»´æŠ¤æˆæœ¬é«˜ï¼ˆéœ€è¦å¤„ç†å„ç§ç¯å¢ƒé—®é¢˜ï¼‰

Go ç‰ˆæœ¬å¯ä»¥è®©ä½ ï¼š
1. 0 å®‰è£…æ­¥éª¤
2. 100% æˆåŠŸç‡
3. æ— éœ€æŠ€æœ¯æ”¯æŒ
4. å®¢æˆ·æ»¡æ„åº¦é«˜

**æœ€ç»ˆå»ºè®®**: ä¸»æ¨ Go ç‰ˆæœ¬ï¼ŒNode.js ç‰ˆæœ¬ä½œä¸ºå¤‡é€‰æˆ–å‚è€ƒå®ç°ã€‚
